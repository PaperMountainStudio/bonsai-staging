--- libparted/fs/xfs/platform_defs.h
+++ libparted/fs/xfs/platform_defs.h
@@ -44,6 +44,7 @@
 #include <unistd.h>
 #include <sys/param.h>
 #include <sys/types.h>
+#include <fcntl.h>
 
 #if (__GLIBC__ <= 2) && (__GLIBC_MINOR__ <= 1)
 # define constpp	const char * const *
